#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<stdbool.h>

struct data_struct {
    int no_cuenta;
    char nombre[50];
    float saldo;
};

struct data_struct usuarios[100];

int main(){

    FILE *fp;
    fp = fopen("prueba_usuarios.csv", "r");

    char row[1000];
    char *token;

    fgets(row, 1000, fp);

    int n = 0;

    while (feof(fp) != true)
    {
        fgets(row, 1000, fp);

        token = strtok(row, ",");
        // printf("Id: %d ", atoi(token));
        usuarios[n].no_cuenta = atoi(token);

        token = strtok(NULL, ",");
        // printf("Nombre: %s  ", token);
        sprintf(usuarios[n].nombre, "%s", token);

        token = strtok(NULL, ",");
        usuarios[n].saldo = atof(token);

        n++;
    }

    for(int i = 0; i < n; i++){
        printf("NoCuenta: %d   Nombre: %s   Saldo: %.2f\n", 
            usuarios[i].no_cuenta, usuarios[i].nombre, usuarios[i].saldo);
    }

    return 0;
}